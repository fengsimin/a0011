<?php
//Copyright (c) 2016 iFeiwu.com
 class Ifeiwu { protected $db; protected $table; protected $fields; protected $order; protected $admin; public function __construct() { goto PDqs5; GTPzq: $this->fields = $this->_getTableFields($this->table); goto aN2Bu; G4Dll: MRRNV: goto vwixt; GrdQj: $this->order[] = "\143\164\x69\x6d\145\40\x44\105\123\x43"; goto QmvaA; t1NZr: $this->db = ifeiwu\Db::getInstance(); goto HCdZg; pyugV: if (!$this->table) { goto MRRNV; } goto t1NZr; HCdZg: $this->prefix = $this->db->getPrefix(); goto GTPzq; aN2Bu: $this->order = array(); goto uuVF9; gEVEf: if (!in_array("\x63\x74\x69\155\x65", $this->fields)) { goto nDCh0; } goto GrdQj; uuVF9: if (!in_array("\x73\157\162\164\x62\171", $this->fields)) { goto jF8WW; } goto gXk45; gXk45: $this->order[] = "\163\x6f\162\x74\x62\171\x20\104\105\x53\103"; goto iWWbF; PDqs5: $this->admin = $_GET["\x61\144\155\151\x6e"]; goto pyugV; iWWbF: jF8WW: goto gEVEf; QmvaA: nDCh0: goto G4Dll; vwixt: } public function __destruct() { goto gyP4W; vEx9w: $this->_debug($this->db->log()); goto q9Xxa; q9Xxa: E0FEK: goto dN9nf; gyP4W: if (!APP_DEBUG) { goto E0FEK; } goto vEx9w; dN9nf: } protected function error($message = '', $data = null) { return $this->_result(1, $message, $data); } protected function success($message = '', $data = null) { return $this->_result(0, $message, $data); } protected function _result($code = 0, $message = '', $data = null) { goto HGsdD; Qk59h: $res["\144\141\164\x61"] = $message; goto baqQ0; euf4L: return $res; goto P1ZYJ; DbbY3: $res["\155\145\163\163\141\x67\145"] = $message; goto nVB8I; UO_Gv: if (!$data) { goto N6GIw; } goto NO8gc; Ar2RJ: N6GIw: goto euf4L; nVB8I: goto r3mAn; goto uR2Az; NO8gc: $res["\x64\x61\x74\x61"] = $data; goto Ar2RJ; HGsdD: $res = array(); goto SX6gF; SX6gF: $res["\x63\157\x64\x65"] = $code; goto aTqxx; aTqxx: if (is_array($message)) { goto TfqK0; } goto DbbY3; uR2Az: TfqK0: goto Qk59h; baqQ0: r3mAn: goto UO_Gv; P1ZYJ: } protected function _bulidData($request_data) { goto LDFU6; VVqVW: QYtYe: goto T8aW7; Kw4h7: return $data; goto f2O3p; L0Z40: $category = $this->db->select($this->table, $column)->where("\151\144\40\x3d\40{$pid}")->get(); goto tcsLn; l37t2: $column[] = "\x61\x6c\x69\141\163"; goto E5onr; sjWRK: foreach ($this->fields as $field) { goto Minh3; gI1IP: weJFp: goto Ljtng; FWvLa: if (!($value !== null)) { goto F3O5p; } goto E96R7; E96R7: $data[$field] = is_array($value) ? json_encode($value) : $this->_encode($value); goto qgTjO; qgTjO: F3O5p: goto gI1IP; Minh3: $value = $request_data[$field]; goto FWvLa; Ljtng: } goto tygt6; CRWM1: if (!($pid > 0 && in_array("\x6a\163\x6f\156", $this->fields))) { goto NRVQZ; } goto VquO3; iTUo3: if (!in_array("\x74\151\164\x6c\145", $this->fields)) { goto sXD6l; } goto i1nq0; i1nq0: $column[] = "\x74\x69\164\x6c\x65"; goto J0x70; tcsLn: $data["\x6a\163\157\x6e"] = $category ? json_encode(array("\x63" => $category)) : ''; goto Nwj0U; J0x70: sXD6l: goto cFI62; Nwj0U: NRVQZ: goto Kw4h7; T8aW7: $pid = $data["\160\x69\x64"]; goto CRWM1; hgrDK: $data["\163\164\x61\164\145"] = isset($data["\x73\x74\x61\164\x65"]) ? $data["\x73\164\141\x74\145"] : 0; goto mIAZ4; mIAZ4: if (!isset($request_data["\x63\164\151\x6d\145"])) { goto QYtYe; } goto KQ0lV; VquO3: $column = array("\x69\144"); goto iTUo3; E5onr: jYKwP: goto L0Z40; cFI62: if (!in_array("\x61\x6c\x69\x61\163", $this->fields)) { goto jYKwP; } goto l37t2; LDFU6: $data = array(); goto sjWRK; tygt6: ExRxf: goto hgrDK; KQ0lV: $data["\143\x74\x69\x6d\x65"] = strtotime($request_data["\x63\x74\151\155\x65"]); goto VVqVW; f2O3p: } protected function _encode($data) { goto RiTij; pwdYi: FyJYW: goto UC1U7; PQYI9: return array_map(array($this, "\137\x65\156\143\157\144\x65"), $data); goto pwdYi; UC1U7: if (!is_object($data)) { goto sNMLG; } goto WBKkB; elBwc: ww0Cg: goto Bk83r; st8Gy: foreach ($data as $k => $v) { $tmp->{$k} = $this->_encode($v); YUHe6: } goto elBwc; Bk83r: return $tmp; goto JZP40; JZP40: sNMLG: goto hAKyb; WBKkB: $tmp = clone $data; goto st8Gy; RiTij: if (!is_array($data)) { goto FyJYW; } goto PQYI9; hAKyb: return htmlspecialchars($data, ENT_QUOTES); goto Xi_5O; Xi_5O: } protected function _decode($data) { goto YnuPN; xypkg: $tmp = clone $data; goto MJYDa; MJYDa: foreach ($data as $k => $v) { $tmp->{$k} = $this->_decode($v); jfmd7: } goto g81EX; pX8_6: return $tmp; goto zcCLa; zcCLa: TrZj7: goto e20B3; gfH1A: if (!is_object($data)) { goto TrZj7; } goto xypkg; YnuPN: if (!is_array($data)) { goto hgaUg; } goto mrlEJ; g81EX: dOOV4: goto pX8_6; gWJwz: hgaUg: goto gfH1A; mrlEJ: return array_map(array($this, "\x5f\144\x65\x63\157\x64\x65"), $data); goto gWJwz; e20B3: return htmlspecialchars_decode($data, ENT_QUOTES); goto paNlc; paNlc: } protected function _getTableFields($table) { goto ufQLJ; k61RW: $column = $query->getColumnMeta($i); goto U7p7w; R7o2I: $i++; goto ck6ah; Ejgo_: yQ8Zf: goto ZJ_uX; rlyGR: $table = $this->prefix . $this->table; goto BLDmw; CNDwb: MAOiR: goto YAN5F; YAN5F: if (!($i < $count)) { goto BK5AH; } goto k61RW; vx7Zy: $i = 0; goto CNDwb; pOmAS: BK5AH: goto Lne8q; ZJ_uX: $query = $this->db->query("\x53\105\x4c\x45\103\x54\40\x2a\40\106\122\x4f\115\40{$table}"); goto nRvgx; U7p7w: $fields[] = $column["\156\141\155\x65"]; goto p6lxt; ufQLJ: if ($table) { goto QAHid; } goto rlyGR; GCjgF: QAHid: goto b3haK; nRvgx: $count = $query->columnCount(); goto vx7Zy; b3haK: $table = $this->prefix . $table; goto Ejgo_; p6lxt: trYvl: goto R7o2I; BLDmw: goto yQ8Zf; goto GCjgF; Lne8q: return $fields; goto MKCNE; ck6ah: goto MAOiR; goto pOmAS; MKCNE: } protected function _callback($method, $params) { goto txOa3; Hoxvs: vzhBX: goto YfYmR; Rkx3N: call_user_func_array(array($this, $method), $params); goto Hoxvs; txOa3: if (!(is_callable(array($this, $method)) !== false)) { goto vzhBX; } goto Rkx3N; YfYmR: } protected function _getLevel($pid, $id) { goto MPyly; MPyly: static $list = array(); goto aSXT3; aSXT3: if (!($pid === '')) { goto Vw2cW; } goto JugLd; qjg9S: goto hI0xk; goto V9elx; snHtz: OptwW: goto G56iq; FeGJO: $this->_getLevel('', $pid); goto jHMmZ; cjhAD: V9Dc3: goto qjg9S; u2C2P: if (count($list) == 0) { goto dH42J; } goto YeJVl; mjgUI: hI0xk: goto rgo7l; JugLd: $pid = $this->db->select($this->table, "\x70\151\x64")->where(array("\x69\x64", "\x3d", $id))->get(0); goto e0tGx; EY9uV: $list[] = $pid; goto FeGJO; YeJVl: if ($id) { goto OptwW; } goto rovz0; G56iq: return "\54" . implode("\x2c", array_reverse($list)) . "\54" . $id . "\54"; goto cjhAD; hQKir: return "\x2c" . $id . "\x2c"; goto mjgUI; e0tGx: Vw2cW: goto xUPX9; VHhXD: goto V9Dc3; goto snHtz; jHMmZ: fFFaP: goto u2C2P; rovz0: return "\54" . implode("\x2c", array_reverse($list)) . "\54"; goto VHhXD; V9elx: dH42J: goto hQKir; xUPX9: if (!($pid != 0)) { goto fFFaP; } goto EY9uV; rgo7l: } protected function _saveData($table, $data, $where) { goto Voku1; Voku1: if ($this->db->select($table)->where($where)->has()) { goto MFqxs; } goto TO2GA; d0vC0: return $this->db->update($table, $data, $where)->is(); goto IRWWm; IkSiI: MFqxs: goto d0vC0; IRWWm: V5M_O: goto qq_jq; KuHyf: goto V5M_O; goto IkSiI; TO2GA: return $this->db->insert($table, $data)->is(); goto KuHyf; qq_jq: } protected function _saveImages($pid, $request_data) { goto YNHA0; XMaOQ: $images_state = $request_data["\x69\x6d\x61\147\145\x73\137\x73\x74\x61\x74\x65"]; goto yV9MZ; z6B9h: kjLk9: goto yJvls; YNHA0: $images_id = $request_data["\x69\x6d\x61\147\x65\163\137\x69\144"]; goto iEbNb; g_t0a: foreach ($images_id as $i => $id) { goto MZ4tD; Yeu67: unset($data["\x69\x6d\141\x67\x65"], $data["\x69\155\141\x67\145\x5f\x70\x61\164\x68"]); goto URBm_; KhHNv: goto Vm1sw; goto cuA4R; Pyy8T: $this->db->insert($this->table, $data); goto Yeu67; URBm_: Vm1sw: goto Kxo1a; Kxo1a: zuJKo: goto h8oeq; cuA4R: habPl: goto ZvdyV; I9wsW: $data["\x73\164\x61\164\x65"] = $images_state[$i]; goto TeSil; yr06d: $data["\151\155\x61\x67\x65\137\x70\141\x74\x68"] = $images_path[$i]; goto Pyy8T; wwPWV: $data["\x6f\x72\x64\x65\162\142\171"] = $images_order[$i]; goto I9wsW; TeSil: if (empty($id)) { goto habPl; } goto vEXR9; vEXR9: $this->db->update($this->table, $data, array("\x69\144", "\75", $id)); goto KhHNv; ZvdyV: $data["\151\x6d\x61\147\x65"] = $images_name[$i]; goto yr06d; MZ4tD: $data["\x74\151\x74\x6c\145"] = $images_title[$i]; goto wwPWV; h8oeq: } goto z6B9h; zWRXn: $data["\143\164\x69\x6d\145"] = time(); goto g_t0a; sEnNN: $images_path = $request_data["\151\x6d\x61\147\145\x73\x5f\160\141\x74\x68"]; goto XMaOQ; yV9MZ: $data["\x74\x79\x70\x65"] = "\x69\155\x61\147\145"; goto ohDzK; iEbNb: $images_order = $request_data["\x69\x6d\x61\x67\145\x73\x5f\x6f\x72\144\x65\162"]; goto HOnZ2; HOnZ2: $images_title = $request_data["\x69\x6d\x61\x67\145\x73\137\x74\x69\164\x6c\145"]; goto FiHha; ohDzK: $data["\160\151\144"] = $pid; goto zWRXn; FiHha: $images_name = $request_data["\x69\155\141\147\145\163\x5f\x6e\141\x6d\x65"]; goto sEnNN; yJvls: } protected function _removeFiles2($files) { goto E3fTE; rugQm: NKwoB: goto r1rLb; YvC8d: MxL3M: goto rugQm; E3fTE: if (!(!empty($files) && !is_array($files))) { goto Xp7Hr; } goto Ba1j_; h0NeD: foreach ($files as $key => $value) { goto ZE03g; SzQPW: goto AEXN0; goto jZxn8; ZCUJJ: $prefix = $value["\x70\x72\145\x66\x69\x78"]; goto M4cjy; m5_up: $filename = $path . "\57" . $name; goto KtkpR; Nv68M: PQZJp: goto DZh1_; l0gRh: unlink($filename); goto cTHFx; M4cjy: if ($prefix) { goto Jgu62; } goto m5_up; uWCDu: if ($name) { goto Ayvnx; } goto SzQPW; VvIdV: goto PQZJp; goto qxk3G; ZE03g: $name = $value["\x6e\x61\x6d\x65"]; goto uWCDu; jZxn8: Ayvnx: goto xyN37; s1stR: $prefixs = explode("\x2c", $prefix); goto IHmcd; DZh1_: AEXN0: goto ul1l6; cTHFx: OWdTp: goto VvIdV; qxk3G: Jgu62: goto s1stR; xyN37: $path = "\x2e\x2e\57" . $value["\x70\141\x74\150"]; goto ZCUJJ; KtkpR: if (!file_exists($filename)) { goto OWdTp; } goto l0gRh; rcLkp: tkor3: goto Nv68M; IHmcd: foreach ($prefixs as $prefix) { goto iT6hH; u2rkC: if (!file_exists($filename)) { goto lDAal; } goto aG3BQ; r3EEz: lDAal: goto ohNre; iT6hH: $filename = "{$path}\x2f{$prefix}{$name}"; goto u2rkC; aG3BQ: unlink($filename); goto r3EEz; ohNre: g7tF7: goto aDkrJ; aDkrJ: } goto rcLkp; ul1l6: } goto YvC8d; CmtPv: Xp7Hr: goto goLKL; Ba1j_: $files = json_decode($files, true); goto CmtPv; goLKL: if (!$files) { goto NKwoB; } goto h0NeD; r1rLb: } protected function _mkdir($path, $mode = 493) { goto bDxhf; m3vDm: return false; goto slyD_; y5pWP: return mkdir($path, $mode, true); goto vbW2n; bDxhf: if (is_dir($path)) { goto knxdW; } goto y5pWP; vbW2n: knxdW: goto m3vDm; slyD_: } protected function _rmdir($path) { goto zUvUy; fB13n: closedir($handle); goto QAT6n; QAT6n: if (rmdir($path)) { goto wvZ83; } goto L89v4; wMaPY: U5Ife: goto SEB5h; xVX1g: goto NtJ6R; goto xa99s; SEB5h: AATrb: goto xVX1g; xa99s: T8wXM: goto fB13n; wk9UN: $this->_rmdir("{$path}\57{$item}"); goto wMaPY; L89v4: return false; goto oz7Kf; m2R31: UToLp: goto wk9UN; LyAz8: unlink("{$path}\57{$item}"); goto DnmkG; GimiL: if (!($item != "\56" && $item != "\56\x2e")) { goto AATrb; } goto Wg1_b; oz7Kf: goto viGrX; goto c4wih; DnmkG: goto U5Ife; goto m2R31; VkxaD: if (!(false !== ($item = readdir($handle)))) { goto T8wXM; } goto GimiL; oUj1o: return false; goto QoRIY; Wg1_b: if (is_dir("{$path}\x2f{$item}")) { goto UToLp; } goto LyAz8; J61lD: pFLGI: goto eznbr; rq8_w: NtJ6R: goto VkxaD; zUvUy: if (is_dir($path)) { goto GesLh; } goto oUj1o; WsvVz: viGrX: goto J61lD; CZIoj: if (!($handle = opendir($path))) { goto pFLGI; } goto rq8_w; c4wih: wvZ83: goto MR6TT; QoRIY: GesLh: goto CZIoj; MR6TT: return true; goto WsvVz; eznbr: } protected function _bulidUploadPath($temp_path, $data) { goto NGsuH; CDLNn: if (rename("\x2e\56\x2f" . $temp_path, "\56\56\x2f" . $true_path)) { goto FQXUj; } goto cJs1o; JS9tf: $true_path = str_replace($path_last, $data[$vardir], $temp_path); goto afC1f; g1Lv7: $path_last = end(explode("\57", $temp_path)); goto jdIcA; YqGyZ: if (!is_dir("\56\56\x2f" . $temp_path)) { goto SkV5v; } goto CDLNn; NGsuH: $id = $data["\151\144"]; goto g1Lv7; sH7gi: return $true_path; goto E5nbz; afC1f: qN6df: goto YqGyZ; FH1aM: SkV5v: goto sH7gi; uIHBL: tsrpS: goto M6S5V; jdIcA: if (!($path_last == $id)) { goto tsrpS; } goto e3UmM; M6S5V: if (!(strpos($path_last, "\x21\75") !== false)) { goto qN6df; } goto eTZhn; cJs1o: $true_path = $temp_path; goto z0hhw; eTZhn: $vardir = current(explode("\x21\75", $path_last)); goto JS9tf; e3UmM: return $temp_path; goto uIHBL; z0hhw: FQXUj: goto FH1aM; E5nbz: } protected function _toTree($list, $pk = "\x69\144", $pid = "\160\x69\144", $child = "\137\143\x68\151\154\144", $root = 0) { goto ZRWTn; bJ9zy: r0W0s: goto yza0s; miNiC: foreach ($list as $key => $data) { goto axjXq; uJ1yb: zBOeC: goto cFTfB; POMf1: Iyalk: goto uJ1yb; D1ZfV: $parent =& $refer[$parentId]; goto YglmO; YglmO: $parent[$child][] =& $list[$key]; goto wVmO5; wVmO5: mMgU2: goto U1n7X; k9mAN: if ($root == $parentId) { goto hEJei; } goto w2mRA; hYK1x: $tree[] =& $list[$key]; goto POMf1; axjXq: $parentId = $data[$pid]; goto k9mAN; srSNq: hEJei: goto hYK1x; w2mRA: if (!isset($refer[$parentId])) { goto mMgU2; } goto D1ZfV; U1n7X: goto Iyalk; goto srSNq; cFTfB: } goto LVhdB; SGVCM: if (!is_array($list)) { goto r0W0s; } goto XlxyR; XlxyR: $refer = array(); goto uUQYZ; yza0s: return $tree; goto osazl; f4uYT: uVSA_: goto miNiC; ZRWTn: $tree = array(); goto SGVCM; LVhdB: qz4HT: goto bJ9zy; uUQYZ: foreach ($list as $key => $data) { $refer[$data[$pk]] =& $list[$key]; wZOnt: } goto f4uYT; osazl: } protected function _rand($length, $islowercase = true, $isuppercase = true, $isnumber = true, $isspecial = false) { goto ygLkP; vAp0g: r6x9q: goto BG0Bo; DYexT: $max = strlen($chars) - 1; goto LDLLe; rkRH0: FFuY3: goto cg01N; xZiGC: N9dOd: goto G6pty; FnygP: $chars .= "\60\61\62\x33\64\x35\66\x37\x38\x39"; goto rkRH0; Bs_RG: rukdp: goto Fi0c1; yYvOZ: goto r6x9q; goto v2tKP; Fi0c1: if (!$isnumber) { goto FFuY3; } goto FnygP; fVBTg: $result .= $chars[rand(0, $max)]; goto mLlO0; uaKdU: $chars .= "\101\x42\x43\x44\x45\106\107\x48\111\112\x4b\114\x4d\x4e\117\x50\121\122\x53\124\x55\126\x57\130\x59\x5a"; goto Bs_RG; hEUe3: return $result; goto a5KnG; ygLkP: if (!$islowercase) { goto XP6ae; } goto KW6rU; cg01N: if (!$isspecial) { goto N9dOd; } goto oRIkw; oRIkw: $chars .= "\x21\x40\43\44\x25\x5e\46\52\50\51"; goto xZiGC; edI31: XP6ae: goto uHaeL; hfznP: $i++; goto yYvOZ; LDLLe: $i = 0; goto vAp0g; BG0Bo: if (!($i < $length)) { goto cTsHD; } goto fVBTg; uHaeL: if (!$isuppercase) { goto rukdp; } goto uaKdU; G6pty: $result = ''; goto DYexT; v2tKP: cTsHD: goto hEUe3; KW6rU: $chars .= "\141\142\x63\x64\145\146\147\x68\x69\x6a\153\154\155\x6e\157\x70\x71\162\x73\164\165\166\167\x78\x79\x7a"; goto edI31; mLlO0: C2igK: goto hfznP; a5KnG: } protected function _UTF82GBK($str) { goto Idb33; b232p: AhwXg: goto b2Txc; a1AGJ: return $str; goto jqSAT; jqSAT: goto AhwXg; goto uYLvf; Idb33: if (stripos(php_uname("\163"), "\127\x69\x6e\144\x6f\167") !== false) { goto DYkIU; } goto a1AGJ; uYLvf: DYkIU: goto K6lXs; K6lXs: return iconv("\x55\x54\x46\55\70", "\x47\102\x4b\x2f\x2f\x49\x47\x4e\117\x52\x45", $str); goto b232p; b2Txc: } protected function _serialize($obj) { return base64_encode(gzcompress(serialize($obj))); } protected function _unserialize($txt) { return unserialize(gzuncompress(base64_decode($txt))); } protected function _getIP() { goto jNXrG; HNjJ3: $realip = getenv("\122\105\x4d\x4f\124\105\137\101\104\104\122"); goto AvRXq; xNbao: $realip = $realip[0]; goto eHZhZ; gMzuy: $realip = getenv("\x48\124\x54\120\137\x58\137\106\x4f\x52\127\x41\122\104\105\x44\137\106\x4f\x52"); goto MdK0L; L7zsn: S9y47: goto BlD7X; AzDVg: $realip = $_SERVER["\122\x45\x4d\x4f\124\105\x5f\x41\x44\x44\x52"]; goto R8Beu; R8Beu: goto cGT4V; goto L7zsn; Jskz2: if (isset($_SERVER["\110\124\124\120\x5f\103\114\x49\x45\x4e\124\137\111\x50"])) { goto mfiY3; } goto AzDVg; Ws9F0: goto UfVzv; goto fZO76; jaSGZ: return $realip; goto ybOvy; aRJmK: if (getenv("\110\124\124\x50\x5f\103\114\111\105\x4e\124\137\x49\120")) { goto OOSpX; } goto HNjJ3; NpPMK: RB7P8: goto jaSGZ; zq2BJ: if (getenv("\110\124\x54\120\137\130\x5f\106\117\122\x57\101\x52\x44\105\x44\x5f\106\117\x52")) { goto YrW0h; } goto aRJmK; GtE9Y: YrW0h: goto gMzuy; PIsW9: $realip = empty($realip) ? $_SERVER["\122\105\x4d\117\124\x45\137\101\x44\x44\x52"] : $realip; goto h38Mz; eHZhZ: $realip = empty($realip) ? $_SERVER["\122\x45\x4d\x4f\124\x45\x5f\x41\104\104\x52"] : $realip; goto Ws9F0; s6NaX: cGT4V: goto NpPMK; dw8Ie: UfVzv: goto qlLIh; yqOTQ: $realip = getenv("\x48\x54\124\x50\x5f\x43\x4c\x49\x45\116\124\137\x49\120"); goto dw8Ie; Fa99T: mfiY3: goto IQ6n0; XWjZo: $realip = $realip[0]; goto PIsW9; jlt7n: Mz4bD: goto h47R5; h38Mz: goto cGT4V; goto Fa99T; jNXrG: if (isset($_SERVER)) { goto Mz4bD; } goto zq2BJ; IQ6n0: $realip = $_SERVER["\110\x54\124\120\137\103\x4c\x49\x45\x4e\x54\x5f\x49\120"]; goto s6NaX; h47R5: if (isset($_SERVER["\110\x54\x54\x50\x5f\130\x5f\106\x4f\122\x57\101\x52\104\105\x44\137\106\117\x52"])) { goto S9y47; } goto Jskz2; qlLIh: goto RB7P8; goto jlt7n; MdK0L: $realip = explode("\54", $realip); goto xNbao; OCxXB: $realip = explode("\x2c", $realip); goto XWjZo; BlD7X: $realip = $_SERVER["\110\x54\x54\x50\137\130\137\106\x4f\122\127\x41\122\104\105\104\137\x46\x4f\122"]; goto OCxXB; AvRXq: goto UfVzv; goto GtE9Y; fZO76: OOSpX: goto yqOTQ; ybOvy: } protected function _trash($item, $request_data) { goto yD7hp; Fgp2R: return $this->db->insert("\x74\162\x61\x73\150", $data)->is(); goto I2Nv7; O1YKo: $data["\141\x64\155\151\156\137\x69\144"] = $this->admin["\x69\144"]; goto AmKl7; tFROS: $data["\144\x61\164\x61"] = json_encode($item); goto Yq6JO; yD7hp: $data = array(); goto O1YKo; AmKl7: $data["\141\x64\x6d\x69\x6e\137\156\x61\155\145"] = $this->admin["\x6e\141\155\x65"]; goto vSDKV; KVGft: $data["\x63\x74\151\155\145"] = time(); goto Fgp2R; tI4uL: $data["\x74\151\164\154\145"] = $item["\x74\151\164\154\145"]; goto mn1Wf; vSDKV: $data["\156\157\x74\145"] = $request_data["\156\x6f\164\x65"]; goto tI4uL; mn1Wf: $path = $request_data["\x70\141\164\150"]; goto XjL0o; db9NN: $data["\x74\141\x62\x6c\145"] = $this->table; goto tFROS; XjL0o: $data["\x70\141\x74\x68"] = $path ? $item[$path] : ''; goto db9NN; Yq6JO: $data["\163\164\x61\x74\145"] = 0; goto KVGft; I2Nv7: } protected function _log($type, $data = array()) { goto Wf8HJ; OIqaE: $data["\x74\171\160\x65"] = $type; goto YYtk_; Ok6xg: return $this->db->insert("\x6c\x6f\147", $data)->is(); goto aSbmB; deQdG: $data["\x61\144\155\x69\156\x5f\156\141\x6d\x65"] = $this->admin["\156\x61\155\x65"]; goto j1LNU; j1LNU: $data["\165\x72\154"] = $_SERVER["\x48\124\x54\x50\x5f\122\x45\106\105\x52\105\x52"]; goto db6pI; ErJAT: $data["\164\x61\x62\x6c\145"] = $this->table; goto OIqaE; YYtk_: $data["\x69\x70"] = $this->_getIP(); goto eQXHN; eQXHN: $data["\x63\164\151\155\x65"] = time(); goto Ok6xg; Wf8HJ: if (!($type != "\154\157\x67\x69\156")) { goto okKWn; } goto hoMWx; db6pI: okKWn: goto ErJAT; hoMWx: $data["\x61\144\155\151\156\137\151\144"] = $this->admin["\x69\144"]; goto deQdG; aSbmB: } protected function _debug($message) { $log = ifeiwu\Log::getInstance(); $log->debug($message); } }
